import{_ as V}from"./MrV7coH1.js";import{a5 as d,y as A,j as F,a9 as W,aa as D,ab as M,g,d as j,K as k,a6 as P,o as f,a as _,f as a,ac as z,F as v,r as I,c as S,W as L,u as G,w as N,b as m,e as y,V as q,h as E,ad as K,_ as O,i as b,t as R}from"./BOVntX_I.js";import{u as H,_ as J}from"./BdWJsUzk.js";import"./DlAUqK2U.js";function w(i){return W()?(D(i),!0):!1}function B(i){return typeof i=="function"?i():g(i)}const C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Q(i,t=1e3,l={}){const{immediate:p=!0,immediateCallback:r=!1}=l;let s=null;const n=d(!1);function o(){s&&(clearInterval(s),s=null)}function e(){n.value=!1,o()}function c(){const u=B(t);u<=0||(n.value=!0,r&&i(),o(),s=setInterval(i,u))}if(p&&C&&c(),A(t)||typeof t=="function"){const u=F(t,()=>{n.value&&C&&c()});w(u)}return w(e),{isActive:n,pause:e,resume:c}}function U(i,t,l={}){const{immediate:p=!0}=l,r=d(!1);let s=null;function n(){s&&(clearTimeout(s),s=null)}function o(){r.value=!1,n()}function e(...c){n(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,i(...c)},B(t))}return p&&(r.value=!0,C&&e()),w(o),{isPending:M(r),start:e,stop:o}}const X={id:"slider"},Y={class:"mask"},Z=j({__name:"Slider",setup(i){const t=d([{index:0,position:0,moving:!1,img:"1-urbaniste.jpg"},{index:1,position:1,moving:!1,img:"2-architecte.jpg"},{index:2,position:2,moving:!1,img:"3-paysagiste.jpg"},{index:3,position:3,moving:!1,img:"4-psychosociologue.jpg"},{index:4,position:4,moving:!1,img:"5-socioeconomiste.jpg"},{index:5,position:5,moving:!1,img:"6-geographe.jpg"}]),l=k(()=>t.value.sort((s,n)=>s.position-n.position)),p=d();P(()=>{Q(()=>{const s=l.value[0],n=l.value[1];s.moving=!0,n.moving=!0,U(()=>{for(const e of t.value)e.position===0?e.position=t.value.length-1:e.position=e.position-1;s.moving=!1,n.moving=!1;const o=p.value.querySelectorAll("span:not(.e)");for(const e of o)e.classList.remove("couleur");o[n.index].classList.add("couleur")},600)},3e3)});const r=s=>s.replace(/\d-/,"").replace(".jpg","");return(s,n)=>{const o=V;return f(),_(v,null,[a("p",{class:"sub-title slider-text",ref_key:"text",ref:p},n[0]||(n[0]=[z('<span class="couleur">urbanist<span class="e">e</span></span><span>archit<span class="e">e</span>cte</span><span>paysagist<span class="e">e</span></span><span>psychosociologu<span class="e">e</span></span><span>socio<span class="e">é</span>conomiste</span><span>g<span class="e">é</span>ographe</span>',6)]),512),a("div",X,[a("div",Y,[(f(!0),_(v,null,I(g(l),e=>(f(),S(o,{key:e.img,src:"/img/slider/"+e.img,alt:r(e.img),class:L({"slider-img":!0,moving:e.moving}),loading:"lazy",width:"924",height:"131"},null,8,["src","alt","class"]))),128))])])],64)}}}),ee={class:"page"},se={class:"page"},te={class:"links"},ne={class:"content"},ae={class:"print"},oe={class:"print-button",onclick:"window.print()"},ie={class:"clearfix"},pe=j({__name:"page",async setup(i){let t,l;const p=G(),r=([t,l]=N(()=>H()),t=await t,l(),t),s=([t,l]=N(()=>K()),t=await t,l(),t),n=k(()=>{var e;return((e=s.value)==null?void 0:e._path)??""}),o=k(()=>{var e;return(e=s.value)==null?void 0:e.image});return(e,c)=>{const u=V,h=O,T=Z,$=J;return f(),_(v,null,[a("header",ee,[m(h,{to:"/"},{default:y(()=>[m(u,{src:"/img/creham.gif",alt:g(p).title,class:"logo",height:"110"},null,8,["alt"])]),_:1}),m(T)]),a("nav",se,[a("div",te,[(f(!0),_(v,null,I(g(r),x=>(f(),S(h,{to:x._path,activeClass:"couleur",title:x.title},{default:y(()=>[b(R(x.title),1)]),_:2},1032,["to","title"]))),256))]),m($)]),a("article",ne,[a("div",{class:L(["info","page-"+g(n).replace("/","")])},[q(e.$slots,"default")],2),a("div",ae,[a("span",oe,[m(u,{src:"/img/icons/print.png",alt:"Imprimer",class:"icon"}),c[0]||(c[0]=a("span",null,"Imprimer la page",-1))]),c[1]||(c[1]=a("hr",null,null,-1)),a("div",ie,[m(u,{src:"/img/virgule.png",alt:"Virgule",class:"virgule"})]),g(o)?(f(),S(u,{key:0,src:"/img/pages/"+g(o),class:"page-image"},null,8,["src"])):E("",!0)])]),a("footer",null,[m(h,{to:"/mentions-legales",title:"Mentions légales",class:"mentions mr-0"},{default:y(()=>c[2]||(c[2]=[b(" Mentions légales ")])),_:1})])],64)}}});export{pe as default};
